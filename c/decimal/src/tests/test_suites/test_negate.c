#include "../s21_decimal_tests.h"

static s21_decimal positives[] = {
    {{0x00000000, 0x00000000, 0x00000000, 0x00000000}},  // 0
    {{0x00000000, 0x00000000, 0x00000000, 0x00030000}},  // 0.000
    {{0x00000000, 0x00000000, 0x00000000, 0x000A0000}},  // 0.0000000000
    {{0x00000001, 0x00000000, 0x00000000, 0x00000000}},  // 1
    {{0x000000F3, 0x00000000, 0x00000000, 0x00020000}},  // 2.43
    {{0xFFFFFFFF, 0xFFFFFFFF, 0xFFFFFFFF,
      0x00000000}},  // 79228162514264337593543950335
    {{0xFFFFFFFE, 0xFFFFFFFF, 0xFFFFFFFF,
      0x00000000}},  // 79228162514264337593543950334
    {{0x000007CF, 0x00000000, 0x00000000, 0x00000000}},  // 1999
    {{0x0000000F, 0x00000014, 0x0000072E,
      0x00020000}},  // 339051156075640552161.43
    {{0x99362457, 0x0007AE79, 0x00000000, 0x00080000}},  // 21621621.21712727
    {{0x99362457, 0x0007AE79, 0x00000000, 0x00080000}},  // 21621621.21712727
    {{0x99362457, 0x0007AE79, 0x00000000, 0x00080000}},  // 21621621.21712727
    {{0x00000086, 0x00000054, 0x00000013,
      0x00010000}},  // 35048813776125873370.2
    {{0x00000085, 0x00000054, 0x00000013,
      0x00010000}},  // 35048813776125873370.1
    {{0x00000000, 0x00000000, 0x00000000, 0x00020000}},  // 0.00
    {{0x0000007B, 0x00000000, 0x00000000, 0x00070000}},  // 0.0000123
    {{0x07A5B45C, 0x00000000, 0x00000000, 0x00050000}},  // 1283.00124
    {{0x39608B53, 0x0000001C, 0x00000000, 0x00050000}},  // 1212217.12723
    {{0x39608B53, 0x0000001C, 0x00000000, 0x00050000}},  // 1212217.12723
    {{0x39608B53, 0x0000001C, 0x00000000, 0x00050000}},  // 1212217.12723
    {{0x000049E2, 0x00000000, 0x00000000, 0x00020000}},  // 189.14
    {{0x00193D97, 0x00000000, 0x00000000, 0x00030000}},  // 1654.167
    {{0x0012D795, 0x00000000, 0x00000000, 0x00030000}},  // 1234.837
    {{0x00003EFB, 0x00000000, 0x00000000, 0x00030000}},  // 16.123
    {{0x000046CB, 0x00000000, 0x00000000, 0x00030000}},  // 18.123
    {{0x00004347, 0x00000000, 0x00000000, 0x00030000}},  // 17.223
    {{0x000042E3, 0x00000000, 0x00000000, 0x00030000}},  // 17.123
    {{0x000042E2, 0x00000000, 0x00000000, 0x00030000}},  // 17.122
    {{0x000046CB, 0x00000000, 0x00000000, 0x00030000}},  // 18.123
    {{0x000046CA, 0x00000000, 0x00000000, 0x00030000}},  // 18.122
    {{0x000046CC, 0x00000000, 0x00000000, 0x00030000}},  // 18.124
    {{0x00000000, 0x00000000, 0x00000000, 0x00030000}},  // 0.000
    {{0x0000009A, 0x00000000, 0x00000000, 0x00000000}},  // 154
    {{0x0001E0F4, 0x00000000, 0x00000000, 0x00030000}},  // 123.124
    {{0x00000001, 0x00000000, 0x00000000, 0x00000000}},  // 1
};

static s21_decimal negatives[] = {
    // Тут все те же числа, но с минусом
    {{0x00000000, 0x00000000, 0x00000000, 0x00000000}},  // 0
    {{0x00000000, 0x00000000, 0x00000000, 0x00030000}},  // 0.000
    {{0x00000000, 0x00000000, 0x00000000, 0x000A0000}},  // 0.0000000000
    {{0x00000001, 0x00000000, 0x00000000, 0x80000000}},  // 1
    {{0x000000F3, 0x00000000, 0x00000000, 0x80020000}},  // 2.43
    {{0xFFFFFFFF, 0xFFFFFFFF, 0xFFFFFFFF,
      0x80000000}},  // 79228162514264337593543950335
    {{0xFFFFFFFE, 0xFFFFFFFF, 0xFFFFFFFF,
      0x80000000}},  // 79228162514264337593543950334
    {{0x000007CF, 0x00000000, 0x00000000, 0x80000000}},  // 1999
    {{0x0000000F, 0x00000014, 0x0000072E,
      0x80020000}},  // 339051156075640552161.43
    {{0x99362457, 0x0007AE79, 0x00000000, 0x80080000}},  // 21621621.21712727
    {{0x99362457, 0x0007AE79, 0x00000000, 0x80080000}},  // 21621621.21712727
    {{0x99362457, 0x0007AE79, 0x00000000, 0x80080000}},  // 21621621.21712727
    {{0x00000086, 0x00000054, 0x00000013,
      0x80010000}},  // 35048813776125873370.2
    {{0x00000085, 0x00000054, 0x00000013,
      0x80010000}},  // 35048813776125873370.1
    {{0x00000000, 0x00000000, 0x00000000, 0x00020000}},  // 0.00
    {{0x0000007B, 0x00000000, 0x00000000, 0x80070000}},  // 0.0000123
    {{0x07A5B45C, 0x00000000, 0x00000000, 0x80050000}},  // 1283.00124
    {{0x39608B53, 0x0000001C, 0x00000000, 0x80050000}},  // 1212217.12723
    {{0x39608B53, 0x0000001C, 0x00000000, 0x80050000}},  // 1212217.12723
    {{0x39608B53, 0x0000001C, 0x00000000, 0x80050000}},  // 1212217.12723
    {{0x000049E2, 0x00000000, 0x00000000, 0x80020000}},  // 189.14
    {{0x00193D97, 0x00000000, 0x00000000, 0x80030000}},  // 1654.167
    {{0x0012D795, 0x00000000, 0x00000000, 0x80030000}},  // 1234.837
    {{0x00003EFB, 0x00000000, 0x00000000, 0x80030000}},  // 16.123
    {{0x000046CB, 0x00000000, 0x00000000, 0x80030000}},  // 18.123
    {{0x00004347, 0x00000000, 0x00000000, 0x80030000}},  // 17.223
    {{0x000042E3, 0x00000000, 0x00000000, 0x80030000}},  // 17.123
    {{0x000042E2, 0x00000000, 0x00000000, 0x80030000}},  // 17.122
    {{0x000046CB, 0x00000000, 0x00000000, 0x80030000}},  // 18.123
    {{0x000046CA, 0x00000000, 0x00000000, 0x80030000}},  // 18.122
    {{0x000046CC, 0x00000000, 0x00000000, 0x80030000}},  // 18.124
    {{0x00000000, 0x00000000, 0x00000000, 0x00030000}},  // 0.000
    {{0x0000009A, 0x00000000, 0x00000000, 0x80000000}},  // 154
    {{0x0001E0F4, 0x00000000, 0x00000000, 0x80030000}},  // 123.124
    {{0x00000001, 0x00000000, 0x00000000, 0x80000000}},  // 1
};

START_TEST(test) {
  s21_decimal temp;
  for (size_t i = 0; i < sizeof(positives) / sizeof(s21_decimal); ++i) {
    s21_negate(positives[i], &temp);
    int ret = s21_is_equal(temp, negatives[i]);
    ck_assert_int_eq(ret, 1);
  }
  for (size_t i = 0; i < sizeof(negatives) / sizeof(s21_decimal); ++i) {
    s21_negate(negatives[i], &temp);
    int ret = s21_is_equal(temp, positives[i]);
    ck_assert_int_eq(ret, 1);
  }
}
END_TEST

Suite *suite_negate(void) {
  Suite *suite = suite_create(MAGENTA "[s21_negate]" RESET);
  TCase *tcase_core = tcase_create(RED "s21_negate_tc" RESET);

  if (suite != NULL && tcase_core != NULL) {
    tcase_add_test(tcase_core, test);
    suite_add_tcase(suite, tcase_core);
  }
  return suite;
}
